<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.newthread.framework.mapper.TeammarkupMapper">
    <resultMap id="BaseResultMap" type="com.newthread.entity.Teammarkup">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <constructor>
            <idArg column="markup_sid" javaType="java.lang.Integer" jdbcType="INTEGER"/>
            <arg column="markup_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
            <arg column="markup_picture" javaType="java.lang.String" jdbcType="VARCHAR"/>
            <arg column="markup_job" javaType="java.lang.String" jdbcType="VARCHAR"/>
            <arg column="markup_academy" javaType="java.lang.String" jdbcType="VARCHAR"/>
            <arg column="markup_major" javaType="java.lang.String" jdbcType="VARCHAR"/>
            <arg column="markup_grade" javaType="java.lang.String" jdbcType="VARCHAR"/>
            <arg column="markup_group" javaType="java.lang.String" jdbcType="VARCHAR"/>
            <arg column="markup_timestamp" javaType="java.lang.Integer" jdbcType="INTEGER"/>
            <arg column="markup_content" javaType="java.lang.String" jdbcType="LONGVARCHAR"/>
            <arg column="markup_note" javaType="java.lang.String" jdbcType="LONGVARCHAR"/>
        </constructor>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        delete from teammarkup
        where markup_sid = #{markupSid,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.newthread.entity.Teammarkup">
        insert into teammarkup (markup_sid,markup_name, markup_picture, markup_job,
        markup_academy, markup_major, markup_grade,
        markup_group, markup_timestamp, markup_content,
        markup_note)
        values (#{markupSid,jdbcType=INTEGER},#{markupName,jdbcType=VARCHAR}, #{markupPicture,jdbcType=VARCHAR}, #{markupJob,jdbcType=VARCHAR},
        #{markupAcademy,jdbcType=VARCHAR}, #{markupMajor,jdbcType=VARCHAR}, #{markupGrade,jdbcType=VARCHAR},
        #{markupGroup,jdbcType=VARCHAR}, #{markupTimestamp,jdbcType=INTEGER}, #{markupContent,jdbcType=LONGVARCHAR},
        #{markupNote,jdbcType=LONGVARCHAR})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.newthread.entity.Teammarkup">
        update teammarkup
        set markup_picture = #{markupPicture,jdbcType=VARCHAR},
        markup_name = #{markupName,jdbcType=VARCHAR},
        markup_job = #{markupJob,jdbcType=VARCHAR},
        markup_academy = #{markupAcademy,jdbcType=VARCHAR},
        markup_major = #{markupMajor,jdbcType=VARCHAR},
        markup_grade = #{markupGrade,jdbcType=VARCHAR},
        markup_group = #{markupGroup,jdbcType=VARCHAR},
        markup_timestamp = #{markupTimestamp,jdbcType=INTEGER},
        markup_content = #{markupContent,jdbcType=LONGVARCHAR},
        markup_note = #{markupNote,jdbcType=LONGVARCHAR}
        where markup_sid = #{markupSid,jdbcType=INTEGER}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        select markup_sid, markup_name,markup_picture, markup_job, markup_academy, markup_major, markup_grade,
        markup_group, markup_timestamp, markup_content, markup_note
        from teammarkup
        where markup_sid = #{markupSid,jdbcType=INTEGER}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        select markup_sid, markup_name, markup_picture, markup_job, markup_academy, markup_major, markup_grade,
        markup_group, markup_timestamp, markup_content, markup_note
        from teammarkup
    </select>

    <select id="selectNewestAll" resultMap="BaseResultMap">
    select markup_sid, markup_name, markup_picture, markup_job, markup_academy, markup_major, markup_grade,
    markup_group, markup_timestamp, markup_content, markup_note
    from teammarkup WHERE markup_grade = (SELECT max(markup_grade) FROM teammarkup)
  </select>

    <select id="selectNewestMarkupByJob" resultMap="BaseResultMap" parameterType="java.lang.String">
    select markup_sid, markup_name, markup_picture, markup_job, markup_academy, markup_major, markup_grade,
  markup_group, markup_timestamp, markup_content, markup_note
from teammarkup WHERE markup_job = #{code,jdbcType=INTEGER} ORDER BY markup_grade DESC LIMIT 1
  </select>
</mapper>